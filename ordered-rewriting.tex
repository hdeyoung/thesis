\chapter{Ordered rewriting}\label{ch:ordered-rewriting}

\begin{syntax*}
  Propositions &
    A & p \mid A \limp B \mid B \pmir A
          \mid A \with B \mid \top
          \mid A \fuse B \mid \one
  \\
  Ordered contexts & 
    \octx & \octxe \mid \octx \oc A
\end{syntax*}

\begin{itemize}
\item Lambek calculus and rewriting; compare to multiset rewriting
\item Explain why $\plus$, $\zero$, and $\bot$ are undesirable here.
\item Connections to left rules
\end{itemize}

The rewriting relation is the smallest compatible relation that satisfies:
\begin{inferences}
  \infer{A \oc (A \limp B) \reduces B}{}
  \and
  \infer{(B \pmir A) \oc A \reduces B}{}
  \\
  \infer{A \with B \reduces A}{}
  \and
  \infer{A \with B \reduces B}{}
  \and
  \text{(no rule for $\top$)}
  \\
  \infer{A \fuse B \reduces A \oc B}{}
  \and
  \infer{\one \reduces \octxe}{}
\end{inferences}
We will also refer to this relation as \vocab{reduction}%
\footnote{Input transitions are postponed to \cref{ch:ordered-bisimilarity}.}%
.


\section{Examples}

\subsection{Automata and transducers}

\begin{equation*}
  \begin{lgathered}
    q_0 \defd (\atm{a} \limp q_0) \with (\atm{b} \limp q_0 \with q_1) \with (\atm{\emp} \limp \top) \\
    q_1 \defd (\atm{a} \limp q_2) \with (\atm{b} \limp q_2) \with (\atm{\emp} \limp \one) \\
    q_2 \defd (\atm{a} \limp q_2) \with (\atm{b} \limp q_2) \with (\atm{\emp} \limp \top)
  \end{lgathered}
  \qquad
  \begin{lgathered}
    s_0 \defd (\atm{a} \limp s_0) \with (\atm{b} \limp s_1) \with (\atm{\emp} \limp \top) \\
    s_1 \defd (\atm{a} \limp s_0) \with (\atm{b} \limp s_1) \with (\atm{\emp} \limp \one)
  \end{lgathered}
\end{equation*}

\begin{theorem}
  Let $\aut{A} = (Q, \mathord{\nfareduces}, F)$ be \iac{NFA} over an input alphabet $\ialph$.
  Then:
  \begin{itemize}[nosep]
  \item $q \nfareduces[a] q'$ if and only if $\atm{a} \oc \nfa{q} \Reduces \nfa{q}'$.
  \item $q \in F$ if and only if $\atm{\emp} \oc \nfa{q} \Reduces \octxe$.
  \item $q \notin F$ if and only if $\atm{\emp} \oc \nfa{q} \Reduces \top$.
  \end{itemize}
  % \item
  %   If $\atm{a} \oc \nfa{q} \Reduces \nfa{q}'$, then $q \nfareduces[a] q'$.
  %   If $\atm{\emp} \oc \nfa{q} \Reduces \octxe$, then $q \in F$.
\end{theorem}

\begin{equation*}
  q_0 \defd \atm{a} \limp q_0 \fuse \atm{a}
  \qquad
  \begin{lgathered}
    s_0 \defd \atm{a} \limp s_1 \\
    s_1 \defd \atm{a} \limp s_0 \fuse \atm{a} \fuse \atm{a}
  \end{lgathered}
\end{equation*}

\subsection{Binary counter}

\begin{equation*}
  \begin{lgathered}
    e \defd (e \fuse b_1 \pmir \atm{i}) \with (\atm{z} \pmir \atm{d}) \\
    b_0 \defd (b_1 \pmir \atm{i}) \with (\atm{d} \fuse b'_0 \pmir \atm{d}) \\
    b_1 \defd (\atm{i} \fuse b_0 \pmir \atm{i}) \with (b_0 \fuse \atm{s} \pmir \atm{d}) \\
    b'_0 \defd (\atm{z} \limp \atm{z}) \with (\atm{s} \limp b_1 \fuse \atm{s})
  \end{lgathered}
\end{equation*}

\begin{itemize}
\item Concurrency that is not message-passing
\end{itemize}

\begin{equation*}
  \begin{lgathered}
    i \defd (e \limp e \fuse b_1) \with (b_0 \limp b_1) \with (b_1 \limp i \fuse b_0) \\
    d \defd (e \limp z) \with (b_0 \limp d \fuse b'_0) \with (b_1 \limp b_0 \fuse s) \\
    b'_0 \defd (z \limp z) \with (s \limp b_1 \fuse s)
  \end{lgathered}
\end{equation*}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "thesis"
%%% End:
