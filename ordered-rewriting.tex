\chapter{Ordered rewriting}\label{ch:ordered-rewriting}

\section{Propositional ordered rewriting}

\begin{syntax*}
  Propositions &
    A & p \mid A \limp B \mid B \pmir A
          \mid A \fuse B \mid \one
          \mid A \with B \mid \top
  \\
  Ordered contexts & 
    \octx & \octxe \mid \octx_1 \oc \octx_2 \mid A
\end{syntax*}

\begin{itemize}
\item Lambek calculus and rewriting; compare to multiset rewriting; compare to string rewriting
\item Explain why $\plus$, $\zero$, and $\bot$ are undesirable here.
\item Connections to left rules
\end{itemize}

The rewriting relation is the smallest compatible relation that satisfies:
\begin{inferences}
  \infer{A \oc (A \limp B) \reduces B}{}
  \and
  \infer{(B \pmir A) \oc A \reduces B}{}
  \\
  \infer{A \with B \reduces A}{}
  \and
  \infer{A \with B \reduces B}{}
  \and
  \text{(no rule for $\top$)}
  \\
  \infer{A \fuse B \reduces A \oc B}{}
  \and
  \infer{\one \reduces \octxe}{}
\end{inferences}
We will also refer to this relation as \vocab{reduction}%
\footnote{Input transitions are postponed to \cref{ch:ordered-bisimilarity}.}%
.

$\Reduces$ is the reflexive-transitive closure of $\reduces$

\section{Definitions}

\begin{itemize}
\item not very interesting without recursion
\end{itemize}

\section{Examples}

\subsection{Automata and transducers}

\begin{equation*}
  \begin{lgathered}[t]
    q_0 \defd (a \limp q_0) \with (b \limp q_0 \with q_1) \\
    q_1 \defd (a \limp q_2) \with (b \limp q_2) \with (\emp \limp \one) \\
    q_2 \defd (a \limp q_2) \with (b \limp q_2)
  \end{lgathered}
  \qquad
  \begin{lgathered}[t]
    s_0 \defd (a \limp s_0) \with (b \limp s_1) \\
    s_1 \defd (a \limp s_0) \with (b \limp s_1) \with (\emp \limp \one)
  \end{lgathered}
\end{equation*}

\begin{equation*}
  \nfa{q} \defd \bigwith_{a \in \ialph} \bigl({\textstyle a \limp \bigwith_{q'_a} \nfa{q}'_a}\bigr)
\end{equation*}

\begin{theorem}
  Let $\aut{A} = (Q, \mathord{\nfareduces}, F)$ be \iac{NFA} over an input alphabet $\ialph$.
  Then:
  \begin{itemize}[nosep]
  \item $q \nfareduces[a] q'$ if and only if $\atm{a} \oc \nfa{q} \Reduces \nfa{q}'$.
  \item $q \in F$ if and only if $\atm{\emp} \oc \nfa{q} \Reduces \octxe$.
  \item $q \notin F$ if and only if $\atm{\emp} \oc \nfa{q} \longarrownot\reduces$.\alertnote{Careful -- depends on focusing!}
  \end{itemize}
  % \item
  %   If $\atm{a} \oc \nfa{q} \Reduces \nfa{q}'$, then $q \nfareduces[a] q'$.
  %   If $\atm{\emp} \oc \nfa{q} \Reduces \octxe$, then $q \in F$.
\end{theorem}


\subsection{Binary counter}

\begin{equation*}
  \begin{lgathered}
    e \defd (e \fuse b_1 \pmir i) \with (z \pmir d) \\
    b_0 \defd (b_1 \pmir i) \with (d \fuse b'_0 \pmir d) \\
    b_1 \defd (i \fuse b_0 \pmir i) \with (b_0 \fuse s \pmir d) \\
    b'_0 \defd (z \limp z) \with (s \limp b_1 \fuse s)
  \end{lgathered}
\end{equation*}

\begin{itemize}
\item Concurrency that is not message-passing
\item Alternative choreography -- how are these related?
\begin{equation*}
  \begin{lgathered}
    i \defd (e \limp e \fuse b_1) \with (b_0 \limp b_1) \with (b_1 \limp i \fuse b_0) \\
    d \defd (e \limp z) \with (b_0 \limp d \fuse b'_0) \with (b_1 \limp b_0 \fuse s) \\
    b'_0 \defd (z \limp z) \with (s \limp b_1 \fuse s)
  \end{lgathered}
\end{equation*}

\begin{equation*}
  \begin{lgathered}
    i \defd (e \limp e \fuse b_1) \with (b_0 \limp b_1) \with (b_1 \limp i \fuse b_0) \\
    d \defd (e \limp z) \with (b_0 \limp d \fuse b'_0) \with (b_1 \limp b_0 \fuse s) \\
    z \defd z \pmir b'_0 \\
    s \defd b_1 \fuse s \pmir b'_0
  \end{lgathered}
\end{equation*}
\end{itemize}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "thesis"
%%% End:
