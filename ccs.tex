\chapter{\acs*{CCS}}

\begin{theorem}
  The following are equivalent.
  \begin{itemize}
  \item If $P \simu{R}\overset{c}{\reduces} Q'$, then $\bar{c} \mid P \overset{\tau}{\Reduces}\simu{R} Q'$.
  \item If $P \simu{R} Q$ and $\bar{c} \mid Q \overset{\tau}{\reduces} Q'$, then $\bar{c} \mid P \overset{\tau}{\Reduces}\simu{R} Q'$.
  \end{itemize}
\end{theorem}
\begin{proof}
  We prove each direction separately.
  \begin{itemize}
  \item 
  Assume that $P \simu{R} Q$ and $\bar{c} \mid Q \overset{\tau}{\reduces} Q'$.
  Either the internal transition on $\bar{c} \mid Q$ is derived from an input on $c$ -- \ie, $Q \overset{c}{\reduces} Q'$ -- or it leaves the message $\bar{c}$ untouched -- \ie, there exists a process $Q'_0$ such that $Q \overset{\tau}{\Reduces} Q'_0$ and $Q' = \bar{c} \mid Q'_0$.
  \begin{itemize}
  \item
    In the former case, we have $P \simu{R}\overset{c}{\reduces} Q'$ and can deduce that $\bar{c} \mid P \overset{\tau}{\Reduces}\simu{R} Q'$.
  \item 
    In the latter case, $P \overset{\tau}{\Reduces}\simu{R} Q'_0$ because $\simu{R}$ is reduction-closed.
    Framing $\bar{c}$ on yields $\bar{c} \mid P \overset{\tau}{\Reduces} \bar{c} \mid P'_0$ and $P'_0 \simu{R} Q'_0$, for some process $P'_0$.
    $\bar{c} \mid P'_0 \Reduces\simu{R} \bar{c} \mid Q'_0 = Q'$.
  \end{itemize}

  \item 
  Assume that $P \simu{R}\overset{c}{\reduces} Q'$ -- \ie, that $P \simu{R} Q$ and $Q \overset{c}{\reduces} Q'$, for some process $Q$.
  It follows that $\bar{c} \mid Q \overset{\tau}{\reduces} Q'$.
  Because $\simu{R}$ is contextual, $\bar{c} \mid P \simu{R} \bar{c} \mid Q$.\fixnote{Except that it isn't!}
  Because $\simu{R}$ is $\overset{\tau}{\Reduces}$-closed, $\bar{c} \mid P \overset{\tau}{\Reduces}\simu{R} Q'$.
  % 
  \qedhere
\end{itemize}
\end{proof}

\begin{theorem}\label{thm:emptiness-bisim-equiv}
  The following are equivalent.
  \begin{itemize}
  \item
    If $\octx \simu{R} (\octxe)$, then: $\atmR{\lctx} \oc \octx \Reduces\rframe{\simu{S}}{\atmR{\lctx}} \atmR{\lctx}$ for all $\atmR{\lctx}$; and $\atmL{\lctx} \oc \octx \Reduces\lframe{\atmL{\lctx}}{\simu{S}} \atmL{\lctx}$ for all $\atmL{\lctx}$.
  \item
    If $\octx \simu{R} (\octxe)$, then $\octx \Reduces (\octxe) \simu{S} (\octxe)$.
  \end{itemize}
\end{theorem}
\begin{proof}
  Because the premises of the two statements are the same, it suffices to prove that their conclusions are equivalent.
  We prove each direction separately.
  \begin{itemize}
  \item 
  Assume that $\atmR{\lctx} \oc \octx \Reduces\rframe{\simu{S}}{\atmR{\lctx}} \atmR{\lctx}$ for all $\atmR{\lctx}$ and $\atmL{\lctx} \oc \octx \Reduces\lframe{\atmL{\lctx}}{\simu{S}} \atmL{\lctx}$ for all $\atmL{\lctx}$.
  Choose an atomic proposition $\atmR{a}$ that does not appear in $\octx$; instantiating the emptiness bisimulation condition with $\atmR{\lctx} = \atmR{a}$, we have $\atmR{a} \oc \octx \Reduces\rframe{\simu{S}}{\atmR{a}} \atmR{a}$.
  We can prove by induction on the reduction sequence that $\octx \Reduces (\octxe) \simu{S} (\octxe)$.
  \begin{itemize}
  \item
    Consider the case in which the reduction sequence is trivial, \ie, the case in which $\atmR{a} \oc \octx \rframe{\simu{S}}{\atmR{a}} \atmR{a}$.
    Because $\atmR{a}$ does not appear in $\octx$, this holds only if $\octx = (\octxe) \simu{S} (\octxe)$.

  \item
    Consider the case in which $\atmR{a} \oc \octx \reduces\Reduces\rframe{\simu{S}}{\atmR{a}} \atmR{a}$.
    Because $\atmR{a}$ does not appear in $\octx$, it cannot participate in the initial reduction, so $\octx \reduces \octx'$ and $\atmR{a} \oc \octx' \Reduces\rframe{\simu{S}}{\atmR{a}} \atmR{a}$, for some context $\octx'$.
    Moreover, because it arises from $\octx$, the context $\octx'$ does not contain any occurances of $\atmR{a}$.
    From the inductive hypothesis it therefore follows that $\octx' \Reduces (\octxe) \simu{S} (\octxe)$;
    prepending the reduction from $\octx$, we conclude that $\octx \Reduces (\octxe) \simu{S} (\octxe)$.
  \end{itemize}

  \item 
  Assume that $\octx \Reduces (\octxe) \simu{S} (\octxe)$.
  Because reduction is closed under framing, $\atmR{\lctx} \oc \octx \Reduces \atmR{\lctx}$.
  Also, $\atmR{\lctx} \rframe{\simu{S}}{\atmR{\lctx}} \atmR{\lctx}$.
  It follows that $\atmR{\lctx} \oc \octx \Reduces\rframe{\simu{S}}{\atmR{\lctx}} \atmR{\lctx}$ for all $\atmR{\lctx}$; and, by symmetric reasoning, that $\octx \oc \atmL{\lctx} \Reduces\lframe{\atmL{\lctx}}{\simu{S}} \atmL{\lctx}$ for all $\atmL{\lctx}$.
  %
  \qedhere
  \end{itemize}
\end{proof}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "thesis"
%%% End:
